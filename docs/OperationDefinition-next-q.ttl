@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://fhir.org/guides/argonaut-questionnaire/OperationDefinition/next-q> a fhir:OperationDefinition;
  fhir:nodeRole fhir:treeRoot;
  fhir:Resource.id [ fhir:value "next-q"];
  fhir:DomainResource.text [
     fhir:Narrative.status [ fhir:value "generated" ];
     fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">\n			<h2>Argonaut Next Question Operation</h2>\n			<p>OPERATION: Argonaut Next Question Operation</p>\n			<p>The official URL for this operation definition is: </p>\n			<pre>http://fhir.org/guides/argonaut-questionnaire/OperationDefinition/next-q</pre>\n			<div>\n				<p>The Argonaut Next Question Operation is used for <em>adaptive questionnaires</em> forms where the next question is based on previous answers.  The result of this operation is to return the next question and optionally the questionnaire scoring for an adaptice questionnaire.  This operation uses the <a href=\"http://hl7.org/fhir/STU3/questionnaireresponse.html\">QuestionnaireResponse</a> resource with a <a href=\"http://hl7.org/fhir/STU3/references.html#contained\">\n						<em>contained</em>\n					</a>\n					<a href=\"http://hl7.org/fhir/STU3/questionnaire.html\">Questionnaire</a> as both the input and output parameter. The Client initiates and queries for the next question supplying the answer to the previous question.  The Server updates the contained Questionnaire in the  QuestionnaireResponse in the with the next question.  When the questionnaire is complete, the Server updates the status of the 'qr-in' resource parameter to <code>complete</code>.  If the questionnaire has exceeded the time limit, the  Client or Server may return an <a href=\"http://hl7.org/fhir/STU3/operationoutcome.html\">OperationOutcome</a> with an error.</p>\n			</div>\n			<p>URL: [base]/QuestionnaireResponse/[id]/$next-q</p>\n			<p>Parameters</p>\n			<table class=\"grid\">\n				<tr>\n					<td>\n						<b>Use</b>\n					</td>\n					<td>\n						<b>Name</b>\n					</td>\n					<td>\n						<b>Cardinality</b>\n					</td>\n					<td>\n						<b>Type</b>\n					</td>\n					<td>\n						<b>Binding</b>\n					</td>\n					<td>\n						<b>Documentation</b>\n					</td>\n				</tr>\n				<tr>\n					<td>IN</td>\n					<td>qr-in</td>\n					<td>1..1</td>\n					<td>Resource (<a href=\"StructureDefinition-aqr.html\">Argo Adaptive QuestionnaireResponse Profile</a>)</td>\n					<td/>\n					<td>\n						<div>\n							<p>The <a href=\"StructureDefinition-aqr.html\">Argo Adaptive QuestionnaireResponse Profile</a> of the QuestionnaireResponse resource with a <em>contained</em> Questionnaire.  When initiating an adaptive questionnaire, the resource represents only metadata, because it precedes the first question.  For subsequent transactions the Client updates the QuestionnaireResponse with the previous question-answer pair and posts it to the Server.</p>\n						</div>\n					</td>\n				</tr>\n				<tr>\n					<td>OUT</td>\n					<td>qr-out</td>\n					<td>1..1</td>\n					<td>Resource (<a href=\"StructureDefinition-aqr.html\">Argo Adaptive QuestionnaireResponse Profile</a>)</td>\n					<td/>\n					<td>\n						<div>\n							<p>The <a href=\"StructureDefinition-aqr.html\">Argo Adaptive QuestionnaireResponse Profile</a> of the QuestionnaireResponse resource with a <em>[contained]</em> Questionnaire.  The Server updates the QuestionnaireResponse's contained Questionnaire with the next question and returns it as this parameter.  When the questionnaire is complete, the Server updates the status of the QuestionnaireResponse resource parameter to <code>complete</code>.</p>\n						</div>\n					</td>\n				</tr>\n				<tr>\n					<td>OUT</td>\n					<td>score</td>\n					<td>0..1</td>\n					<td>Quantity</td>\n					<td/>\n					<td>\n						<div>\n							<p>The calculated score that was returned by the service for the question/group.  This value is only used to return the score for the current question answer pair posted by the Client.  Cumulative/Final scores use the <code>cum-score</code> parameter.</p>\n						</div>\n					</td>\n				</tr>\n				<tr>\n					<td>OUT</td>\n					<td>cum-score</td>\n					<td>0..1</td>\n					<td>Quantity</td>\n					<td/>\n					<td>\n						<div>\n							<p>The cumulative/total score based on all the completed question answer pairs for the adaptive questionnaire.  Individual scores for each question use the <code>q-score</code> parameter.</p>\n						</div>\n					</td>\n				</tr>\n			</table>\n			<div/>\n		</div>"
  ];
  fhir:OperationDefinition.url [ fhir:value "http://fhir.org/guides/argonaut-questionnaire/OperationDefinition/next-q"];
  fhir:OperationDefinition.version [ fhir:value "0.0.0"];
  fhir:OperationDefinition.name [ fhir:value "Argonaut Next Question Operation"];
  fhir:OperationDefinition.status [ fhir:value "draft"];
  fhir:OperationDefinition.kind [ fhir:value "operation"];
  fhir:OperationDefinition.date [ fhir:value "2018-08-08T14:35:53-07:00"^^xsd:dateTime];
  fhir:OperationDefinition.publisher [ fhir:value "The Argonaut Project"];
  fhir:OperationDefinition.description [ fhir:value "The Argonaut Next Question Operation is used for *adaptive questionnaires* forms where the next question is based on previous answers.  The result of this operation is to return the next question and optionally the questionnaire scoring for an adaptice questionnaire.  This operation uses the [QuestionnaireResponse](http://hl7.org/fhir/STU3/questionnaireresponse.html) resource with a [*contained*](http://hl7.org/fhir/STU3/references.html#contained) [Questionnaire](http://hl7.org/fhir/STU3/questionnaire.html) as both the input and output parameter. The Client initiates and queries for the next question supplying the answer to the previous question.  The Server updates the contained Questionnaire in the  QuestionnaireResponse in the with the next question.  When the questionnaire is complete, the Server updates the status of the 'qr-in' resource parameter to `complete`.  If the questionnaire has exceeded the time limit, the  Client or Server may return an [OperationOutcome](http://hl7.org/fhir/STU3/operationoutcome.html) with an error."];
  fhir:OperationDefinition.code [ fhir:value "next-q"];
  fhir:OperationDefinition.resource [
     fhir:value "QuestionnaireResponse";
     fhir:index 0
  ];
  fhir:OperationDefinition.system [ fhir:value "false"^^xsd:boolean];
  fhir:OperationDefinition.type [ fhir:value "false"^^xsd:boolean];
  fhir:OperationDefinition.instance [ fhir:value "true"^^xsd:boolean];
  fhir:OperationDefinition.parameter [
     fhir:index 0;
     fhir:OperationDefinition.parameter.name [ fhir:value "qr-in" ];
     fhir:OperationDefinition.parameter.use [ fhir:value "in" ];
     fhir:OperationDefinition.parameter.min [ fhir:value "1"^^xsd:integer ];
     fhir:OperationDefinition.parameter.max [ fhir:value "1" ];
     fhir:OperationDefinition.parameter.documentation [ fhir:value "The [Argo Adaptive QuestionnaireResponse Profile](StructureDefinition-aqr.html) of the QuestionnaireResponse resource with a *contained* Questionnaire.  When initiating an adaptive questionnaire, the resource represents only metadata, because it precedes the first question.  For subsequent transactions the Client updates the QuestionnaireResponse with the previous question-answer pair and posts it to the Server." ];
     fhir:OperationDefinition.parameter.type [ fhir:value "Resource" ];
     fhir:OperationDefinition.parameter.profile [
       fhir:link <http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/aqr>;
       fhir:Reference.reference [ fhir:value "http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/aqr" ]
     ]
  ], [
     fhir:index 1;
     fhir:OperationDefinition.parameter.name [ fhir:value "qr-out" ];
     fhir:OperationDefinition.parameter.use [ fhir:value "out" ];
     fhir:OperationDefinition.parameter.min [ fhir:value "1"^^xsd:integer ];
     fhir:OperationDefinition.parameter.max [ fhir:value "1" ];
     fhir:OperationDefinition.parameter.documentation [ fhir:value "The [Argo AdaptiveQuestionnaireResponse Profile](StructureDefinition-aqr.html) of the QuestionnaireResponse resource with a *[contained]* Questionnaire.  The Server updates the QuestionnaireResponse's contained Questionnaire with the next question and returns it as this parameter.  When the questionnaire is complete, the Server updates the status of the QuestionnaireResponse resource parameter to `complete`." ];
     fhir:OperationDefinition.parameter.type [ fhir:value "Resource" ];
     fhir:OperationDefinition.parameter.profile [
       fhir:link <http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/aqr>;
       fhir:Reference.reference [ fhir:value "http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/aqr" ]
     ]
  ], [
     fhir:index 2;
     fhir:OperationDefinition.parameter.name [ fhir:value "score" ];
     fhir:OperationDefinition.parameter.use [ fhir:value "out" ];
     fhir:OperationDefinition.parameter.min [ fhir:value "0"^^xsd:integer ];
     fhir:OperationDefinition.parameter.max [ fhir:value "1" ];
     fhir:OperationDefinition.parameter.documentation [ fhir:value "The calculated score that was returned by the service for the question/group.  This value is only used to return the score for the current question answer pair posted by the Client.  Cumulative/Final scores use the `cum-score` parameter." ];
     fhir:OperationDefinition.parameter.type [ fhir:value "Quantity" ]
  ], [
     fhir:index 3;
     fhir:OperationDefinition.parameter.name [ fhir:value "cum-score" ];
     fhir:OperationDefinition.parameter.use [ fhir:value "out" ];
     fhir:OperationDefinition.parameter.min [ fhir:value "0"^^xsd:integer ];
     fhir:OperationDefinition.parameter.max [ fhir:value "1" ];
     fhir:OperationDefinition.parameter.documentation [ fhir:value "The cumulative/total score based on all the completed question answer pairs for the adaptive questionnaire.  Individual scores for each question use the `q-score` parameter." ];
     fhir:OperationDefinition.parameter.type [ fhir:value "Quantity" ]
  ] .

# - ontology header ------------------------------------------------------------

<http://fhir.org/guides/argonaut-questionnaire/OperationDefinition/next-q.ttl> a owl:Ontology;
  owl:imports fhir:fhir.ttl .

# -------------------------------------------------------------------------------------

