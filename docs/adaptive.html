<!-- template for the static html pages not generated by build e.g., index, guidance , toc --><!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
   <meta charset="UTF-8"/>
  <title>Argonaut Questionnaire</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="Argonaut Questionnaire Implemenation Guide"/>
<meta name="author" content="Argonaut Project"/>
  <link rel="stylesheet" href="fhir.css"/>


     <!-- Bootstrap core CSS -->

     <!-- Latest compiled and minified CSS -->

  <link rel="stylesheet" href="assets/css/bootstrap.css"/>
  <link rel="stylesheet" href="assets/css/bootstrap-fhir.css"/>
  <link rel="stylesheet" href="assets/css/bootstrap-glyphicons.css"/>

    <!-- Project extras -->
  <link rel="stylesheet" href="assets/css/project.css"/>
  <link rel="stylesheet" href="assets/css/pygments-manni.css"/>
	<link rel="stylesheet" href="assets/css/jquery-ui.css"/>




    <!-- Favicons -->
  <link sizes="144x144" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
  <link sizes="114x114" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
  <link sizes="72x72" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
  <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
  <link rel="shortcut icon" href="assets/ico/favicon.png"/>


<body markdown="1">
  <!-- ?xml version="1.0" encoding="UTF-8"? -->
<div id="segment-header" class="segment">
    <!-- segment-header -->
  <div class="container">  <!-- container -->

  <!-- hl7 logo -->
    <a no-external="true" href="http://hl7.org/fhir">
      <img src="assets/images/fhir-logo-www.png" alt="FHIR Homepage" class="img-responsive logo"/>
    </a>
  <!-- end hl7 logo -->


   <!-- org logo -->
               <!-- <a id="your-logo" no-external="true" href="http://www.hl7.org">
<img height="50" alt="visit the hl7 website" width="42" src="assets/images/hl7-logo.png"/>
</a>

================THIS IS FOR THE PROJECT LOGO AND URL =============== -->

<a no-external="true" href="http://argonautwiki.hl7.org">
<img src="assets/images/ArgonautProject_logo_black.png" alt="visit our website" class="img-responsive project-logo"/>
</a>

    <!-- end org logo -->


      <div id="project-status" class="project-status">   <!-- ig title text -->

      
      <strong>Argonaut Questionnaire Implementation Guide CI Build</strong>
      

    </div>  <!-- end ig title text -->

  </div>  <!-- end container -->
  <div class="container">
      <!-- container -->
  </div>
</div>
  <!-- /segment-header -->


<div id="segment-navbar" class="segment">
    <!-- segment-navbar -->
  <div id="stripe">
  </div>
  <div class="container">
      <!-- container -->
      <!-- HEADER CONTENT -->
    <nav class="navbar navbar-inverse">
      <div class="container">
        <button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
          <span class="icon-bar">
          </span>
          <span class="icon-bar">
          </span>
          <span class="icon-bar">
          </span>
        </button>
        <a href="http://hl7.org/fhir/STU3/index.html" class="navbar-brand hidden">FHIR</a>
        <div class="nav-collapse collapse navbar-inverse-collapse">

       
  <!-- {:.nav .navbar-nav} don't remove the line above - to add or remove a menu item commeent in or out - [Home](index.html)- [Use Cases...](guidance.html){: .dropdown-toggle data-toggle="dropdown"}  - [Patient Based Scheduling](patient-scheduling.html)  - [Provider based Scheduling](provider-scheduling.html)  {: .dropdown-menu}- [Operations](operations.html)- [Profiles/Extensions](profiles.html)- [Terminology](terminology.html)- [Capability Statements...](capstatements.html){: .dropdown-toggle data-toggle="dropdown"}  - [Conformance requirements for Server](CapabilityStatement-server.html)  - [Conformance requirements for Client](client-capstatement.html)  {: .dropdown-menu}- [Downloads](downloads.html) -->
<ul class="nav navbar-nav">
  <li>
    <a href="index.html">Home</a>
  </li>
  <!-- <li>
    <a href="guidance.html">Guidance</a>
  </li> -->
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Use Cases<b class="caret">
    </b>
  </a>
  <ul class="dropdown-menu">
    <li>
      <a href="static.html">Static Forms</a>
    </li>
    <li>
      <a href="adaptive.html">Adaptive Forms</a>
    </li>
  </ul>
</li>
<li>
  <a href="operations.html">Operations</a>
</li>
<li>
  <a href="profiles.html">Profiles/Extensions</a>
</li>
<li>
  <a href="terminology.html">Terminology</a>
</li>
<li>
  <a href="searchparameters.html">Search Parameters</a>
</li>
<li class="dropdown">
  <a data-toggle="dropdown" href="#" class="dropdown-toggle">Capability Statements<b class="caret">
  </b>
</a>
<ul class="dropdown-menu">
<li>
  <a href="CapabilityStatement-assessmentbank.html">Conformance requirements for Assessment Bank</a>
</li>
<li>
  <a href="CapabilityStatement-answerbank.html">Conformance requirements for Answer Bank</a>
</li>

  <li>
    <a href="CapabilityStatement-server.html">Conformance requirements for Server</a>
  </li>
  <li>
    <a href="CapabilityStatement-client.html">Conformance requirements for Client</a>
  </li>
</ul>
</li>
<li>
  <a href="downloads.html">Downloads</a>
</li>
</ul>


               <!-- <ul class="nav navbar-nav">
          <li>
            <a href="index.html">Home</a>
          </li>
          <li>
            <a href="guidance.html">General Guidance</a>
          </li>
          <li>
            <a href="profiles.html">Profiles and Logical Models</a>
          </li>
          <li>
            <a href="structuremaps.html">Mappings</a>
          </li>
          <li>
            <a href="extensions.html">Extensions</a>
          </li>
          <li>
            <a href="terminology.html">Terminology</a>
          </li>
          <li>
            <a href="searchparams.html">Search Parameters</a>
          </li>
          <li>
            <a href="capstatements.html">Capability Statements</a>
          </li>
          <li>
            <a href="security.html">Security</a>
          </li>
          <li>
            <a href="examples.html">Examples</a>
          </li>
          <li>
            <a href="downloads.html">Downloads</a>
          </li>
        </ul> -->
      </div>
        <!-- /.nav-collapse -->
    </div>
      <!-- /.container -->
  </nav>
    <!-- /.navbar -->
    <!-- /HEADER CONTENT -->
</div>
  <!-- /container -->
</div>
  <!-- /segment-navbar -->


    <!-- /container -->
    <!-- /segment-breadcrumb -->


<div id="page-content-wrapper">    <!-- page content wrapper -->
  <div class="page-content">    <!-- page content -->
    <div class="container">    <!-- container -->
      <div class="row">    <!-- row -->
       <div class="inner-wrapper">   <!-- inner-wrapper -->
         <div class="col-12">    <!-- col -->
              <!-- content of page -->


  <!-- ============Publish box=============== -->

  <!-- status-bar -->
<p id="publish-box">
This is the   Continuous Integration Build  of the Argonaut Questionnaire Implementation Guide,  based on <a href="http://hl7.org/fhir/STU3/index.html">FHIR Version 3.0.1</a>.  See the <a href="http://www.fhir.org/guides//history.html">Directory of published versions</a>
</p>


  <!-- ============BreadCrumb=============== -->

<nav class="breadcrumb">
  
    
      <a href="toc.html" class="breadcrumb-item btn btn-link btn-sm">TOC</a><a href="index.html" class="breadcrumb-item">Home</a>
      /
      <span class="breadcrumb-item active">Adaptive Forms</span>
    
    

</nav>


    <!-- ============CONTENT CONTENT=============== -->

<h1>Adaptive Forms</h1>

  <!-- page source: adaptive.md -->


  <!-- TOC  the css styling for this is \pages\assets\css\project.css under 'markdown-toc' -->

<ul id="markdown-toc">
  <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
  <li><a href="#example-scenario" id="markdown-toc-example-scenario">Example Scenario</a></li>
  <li><a href="#assumptions-and-precondition" id="markdown-toc-assumptions-and-precondition">Assumptions and Precondition</a></li>
  <li><a href="#open-issues-for-discussion" id="markdown-toc-open-issues-for-discussion">Open issues for discussion</a></li>
  <li><a href="#workflow-steps" id="markdown-toc-workflow-steps">Workflow Steps</a>    <ul>
      <li><a name="dffcfd5d-ebaa-4d52-8ad1-885930b46e14">​</a><a href="#adaptive-questionnaire-discovery" id="markdown-toc-adaptive-questionnaire-discovery">Adaptive Questionnaire Discovery</a></li>
      <li><a href="#initiate-adaptive-questionnaire" id="markdown-toc-initiate-adaptive-questionnaire">Initiate Adaptive Questionnaire</a></li>
      <li><a href="#get-next-question" id="markdown-toc-get-next-question">Get Next Question</a></li>
      <li><a href="#adaptive-questionnaire-is-complete" id="markdown-toc-adaptive-questionnaire-is-complete">Adaptive Questionnaire is Complete</a></li>
      <li><a href="#questionnaireresponse-and-scoring" id="markdown-toc-questionnaireresponse-and-scoring">QuestionnaireResponse and Scoring</a></li>
    </ul>
  </li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>The Argonaut Questionnaire Implementation Guide defines a series of interactions which cover the basic workflow for the creation, discovery and retrieval of “<strong>computer adaptive forms</strong>” using FHIR Questionnaire and QuestionnaireResponse and the FHIR API.</p>

<ul>
  <li>Dynamic forms</li>
  <li>Adjust what questions are asked based on previous answers</li>
  <li>Logic defined external to Questionnaire</li>
  <li>Iteratively submit response to API (FHIR operations)</li>
  <li>Locally Questionnaire/QuestionnaireResponse updated on the fly</li>
  <li>Record total score as an Observation or a part of QuestionnaireResponse <strong>Discuss</strong></li>
</ul>

  <!-- Demonstration by Raheel Sayeed (Smart on FHIR Post-Doc)
EASIPRO: Northwestern, Harvard, USC, working on integration of PROMIS into the healthcare system. -->

<h2 id="example-scenario">Example Scenario</h2>

<p>This simple scenario serves as an effective means to describe the Argonaut Questionnaire basic workflow and API</p>

<div class="language-text highlighter-rouge"><pre class="highlight"><code> ...todo...
</code></pre>
</div>

<h2 id="assumptions-and-precondition">Assumptions and Precondition</h2>

<ul>
  <li>Client(Form Filler)
    <ul>
      <li>EHR-S</li>
      <li>Patient Portal (Smart) App</li>
      <li>Third Party (Smart) App too.</li>
    </ul>
  </li>
  <li>Adaptive Questionnaire Service is treated as a <strong>“Black Box”</strong>:
    <ul>
      <li>Contains logic for determination of next question and scoring</li>
    </ul>
  </li>
  <li>Transactions are Stateless:
    <ul>
      <li>Client constructs a record of transaction which is passed to Service</li>
      <li>Service adds to record and passed back to Client</li>
      <li>Client and Service free of keeping track of session</li>
      <li>A Previously disrupted session can be restored if session token expires.</li>
    </ul>
  </li>
  <li>Client makes RESTful FHIR transactions on Service using a <em>FHIR operation</em></li>
  <li>Use QuestionnaireResponse with contained Questionnaire as Parameters to capture the data needed between the Client and Service</li>
  <li>If Questionnaire timed out
    <ul>
      <li>Response can change over time and the Form is not valid</li>
      <li>the whole session needs to be restarted</li>
      <li>timing extensions - duration/time-limit?
        <ul>
          <li>either Client or Service could validate if within time limit</li>
          <li>(OperationOutcome defined error code) <strong>Discusse</strong></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Use QuestionnaireResponse with contained Questionnaire as Parameters to capture the data needed between the Client and Service</li>
  <li>Operationally need to keep assessment short.
    <ul>
      <li>e.g.,PROMIS up to 12 transactions  (on average 4-12))</li>
    </ul>
  </li>
  <li>Calculated Scores as <code class="highlighter-rouge">readOnly</code> question and a pre-populated value as an answer.
    <ul>
      <li>can be marked as hidden using the questionnaire-hidden extension to prevent end user from viewing.</li>
    </ul>
  </li>
</ul>

<h2 id="open-issues-for-discussion">Open issues for discussion</h2>

<ol>
  <li>Using QuestionnaireResponse with contained Questionnaire as the “container” to pass information back and forth <a href="https://github.com/argonautproject/questionnaire/issues/7">7</a>
    <ul>
      <li>other option would be simpler list of Paramters but the client will still have to build the QuestionnaireResponse with contained Questionnaire.</li>
      <li>(complexity is just shifted around</li>
    </ul>
  </li>
  <li>limit the structural complexity (i.e. nesting of group items) of the contained Questionnaire? <a href="https://github.com/argonautproject/questionnaire/issues/8">8</a>
    <ul>
      <li><em>each</em> contained Questionnaire.item could be a:
        <ul>
          <li><em>a single</em> question (‘what is the capital of Assyria?’) or</li>
          <li><em>a single</em> display  (‘Answer these questions three!!’) or</li>
          <li><em>a single</em> item group of <em>multiple</em> display + <em>multiple</em> questions  ( ‘what is you favorite color?’, ‘what is the capital of Assyria?’, ‘what is average flight speed of a laden swallow?’)
            <ul>
              <li>or perhaps more commonly a group containing the question-score pairs when transmitting an individual score for each item.</li>
            </ul>
          </li>
          <li><em>a single</em> item group of: <em>multiple</em> item groups (‘Answer these questions three!!’, ‘what is you favorite color?’, ‘what is the capital of Assyria?’, ‘what is average flight speed of a laden swallow?’)</li>
        </ul>
      </li>
      <li>What is the Service going to send in most cases?
        <ul>
          <li>We are assuming the adaptive questionnaire are going to be rather short so is this complexity warranted.</li>
          <li>On the other hand other projects (SDC and ONC PROs project) are planning to build on this guidance so may be better to not overly constrain.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>What scoring capability is needed only at end or after each question? <a href="https://github.com/argonautproject/questionnaire/issues/9">9</a>
    <ul>
      <li>cumulative(total score) score only at end or after each question ?</li>
      <li>score for each q-a pair ?</li>
      <li>what guidance if any should be given on how to store score?
        <ul>
          <li>as Observation</li>
          <li>as question-answer pair  ( how is shown below )</li>
          <li>both</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Discovery of Adaptive Questionnaire? <a href="https://github.com/argonautproject/questionnaire/issues/10">10</a>
    <ul>
      <li>see section below</li>
    </ul>
  </li>
</ol>

<h2 id="workflow-steps">Workflow Steps</h2>

<p>The following sections provide a detailed description of workflow and API guidance for the Adaptive Forms Use Case.</p>

  <!-- all this Bootstrap html for getting an narrow image to fit nicely in text - 640 pix wide -->

  <!-- file:///assets/images/adaptive-workflow-steps.jpg -->

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>Overview of Adaptive Questionnaire Steps.</strong></figcaption>
  <img src="assets/images/adaptive-workflow-steps.jpg" alt="adaptive-workflow-steps.jpg" class="figure-img img-responsive img-rounded center-block"/>
</figure>

<p></p>
</div>

  <!-- Discovery of Adaptive Questionnaire --->

<h3 id="adaptive-questionnaire-discovery">Adaptive Questionnaire Discovery</h3>

<p>The discovery and preview of the service’s adaptive questionnaire is out of scope.  It may be done out of band or using the standard <a href="http://hl7.org/fhir/STU3/search.html">FHIR RESTful search API</a>. ( todo - discuss )</p>

<!--------- INIT ---------- -->

<h3 id="initiate-adaptive-questionnaire">Initiate Adaptive Questionnaire</h3>

  <!-- all this Bootstrap html for getting an image to fit nicely in text - 640 pix wide -->

  <!-- file:///assets/images/aw-step1.jpg -->

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>.</strong></figcaption>
  <img src="assets/images/aw-step1.jpg" alt="aw-step1.jpg" class="figure-img-narrow img-responsive img-rounded center-block"/>
</figure>

<p></p>
</div>

<p>Launch the adaptive questionnaire by getting first group item (typically the first question) from the Adaptive Questionnaire Service (“Black Box”) by POSTing the operation $next-q to the Service’s Questionnaire instance endpoint and supplying a QuestionnaireResponse with a *contained** Questionnaire representing only the resource metadata.  The Service updates the contained Questionnaire with the first item and returns the QuestionnaireResponse in the payload.</p>

<h4 id="apis" class="no_toc">APIs</h4>

<p>The following Argonaut Questionnaire artifacts are used in this transaction:</p>

<ul>
  <li><strong><a href="OperationDefinition-next-q.html" title="The Argonaut Next Question Operation is used for adaptive questionnaires forms where the next question is based on previous answers.">Argonaut Next Question Operation</a></strong></li>
  <li><strong><a href="StructureDefinition-aqr.html" title="The Argonaut Adaptive QR profile is derived from the Argonaut QR profile requiring a containedArgonaut Questionnaire Profile to support the adaptive questionnaire use case.">Argonaut Adaptive QR Profile</a></strong></li>
</ul>

<h4 id="usage" class="no_toc">Usage</h4>

<p>To initiate an  adaptive questionnaire:</p>

<p><code class="highlighter-rouge">POST [base]/Questionnaire/[id]/$next-q</code></p>

<p>
  <button data-target="#example-aq-initiate" data-toggle="collapse" aria-controls="collapseExample" aria-expanded="false" type="button" title="Click to Open or Close Example" class="btn btn-info btn-lg btn-block">
    Example: $next-q Operation Initiates Adaptive Questionnaire and Returns First Group Item
  </button>
</p>

<div id="example-aq-initiate" class="collapse">
  <div class="card card-body">
      <p><strong>request</strong></p>

<p><code class="highlighter-rouge">POST [base]/Questionnaire/questionnaire-example-adaptive-sampler/$next-q</code></p>

<p><strong>payload</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QuestionnaireResponse"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaireresponse-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/aqr"</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
    </span><span class="nt">"contained"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Questionnaire"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/q"</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Argonaut Questionnaire Sampler"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
        </span><span class="err">//no</span><span class="w"> </span><span class="err">items</span><span class="w"> </span><span class="err">since</span><span class="w"> </span><span class="err">initiating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w">
      </span><span class="err">...</span><span class="w">
      </span><span class="err">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">//references</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
    </span><span class="nt">"questionnaire"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#questionnaire-example-adaptive-sampler"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in-progress"</span><span class="p">,</span><span class="w">
   </span><span class="err">...</span><span class="w">
   </span><span class="err">//no</span><span class="w"> </span><span class="err">items</span><span class="w"> </span><span class="err">since</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">just</span><span class="w"> </span><span class="err">getting</span><span class="w"> </span><span class="err">started</span><span class="w">
   </span><span class="err">}</span><span class="w">
  </span><span class="err">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>response</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QuestionnaireResponse"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaireresponse-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/aqr"</span><span class="w">
    </span><span class="p">],</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
  </span><span class="nt">"contained"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Questionnaire"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/q"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">//the</span><span class="w"> </span><span class="err">'url'</span><span class="w"> </span><span class="err">element</span><span class="w"> </span><span class="err">identifies</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">questions</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">particular</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Argonaut Questionnaire Sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
      </span><span class="err">//add</span><span class="w"> </span><span class="err">first</span><span class="w"> </span><span class="err">item</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">which</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">display</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">questions</span><span class="w">
      </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1"</span><span class="p">,</span><span class="w">
        </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w"> </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">could</span><span class="w"> </span><span class="err">also</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">GUID</span><span class="w">
        </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1"</span><span class="w">
        </span><span class="s2">"text"</span><span class="err">:</span><span class="w"> </span><span class="s2">"Header Text"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1.d"</span><span class="p">,</span><span class="w">
            </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w">  </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w">
            </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1.d1"</span><span class="w">
            </span><span class="s2">"text"</span><span class="err">:</span><span class="w"> </span><span class="s2">"The Argonaut Questionnaire Sampler is designed to show all the question types that can be used in the Argonaut Questionnaire Project:\n\n1 boolean\n2 decimal\n3 integer\n4 dateDate\n5 dateTime\n6 timeTime\n7 string\n8 textText\n9 urlUrl\n10 choice\n11 open-choice\n12 quantity\n"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"display"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//reference</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
  </span><span class="nt">"questionnaire"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#questionnaire-example-adaptive-sampler"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in-progress"</span><span class="p">,</span><span class="w">
</span><span class="err">...</span><span class="w">
</span><span class="err">//no</span><span class="w"> </span><span class="err">items</span><span class="w"> </span><span class="err">since</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">just</span><span class="w"> </span><span class="err">getting</span><span class="w"> </span><span class="err">started</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>
</div>

  </div>
</div>
<p><br/></p>

  <!-- ------- NEXT Q - 1 ---------- -->

<h3 id="get-next-question">Get Next Question</h3>

  <!-- all this Bootstrap html for getting an image to fit nicely in text - 640 pix wide -->

  <!-- file:///assets/images/aw-step2.jpg -->

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>.</strong></figcaption>
  <img src="assets/images/aw-step2.jpg" alt="aw-step2.jpg" class="figure-img-narrow img-responsive img-rounded center-block"/>
</figure>

<p></p>
</div>

<p>Client renders/stores/processes the item and gets the next group item by POSTing the operation $next-q to the service Questionnaire instance endpoint and supplying a1 in the QR and q1 in the contained Q.  As result of the operation, the Service updates the QR and returns it to the Client.</p>

<p>The Service identifies the adaptive questionnaire group item by the contained Questionnaire <code class="highlighter-rouge">definiton</code> element may add intermediate and cumulative score to the QR based on the preceding item(s) and updates the contained Questionnaire with the next question.  This process step is repeated until the adaptive questionnaire is done or the Questionnaire has timed out (footnote?) or another error has occured.</p>

<h4 id="apis-1" class="no_toc">APIs</h4>

<p>The following Argonaut Questionnaire artifacts are used in this transaction:</p>

<ul>
  <li><strong><a href="OperationDefinition-next-q.html" title="The Argonaut Next Question Operation is used for adaptive questionnaires forms where the next question is based on previous answers.">Argonaut Next Question Operation</a></strong></li>
  <li><strong><a href="StructureDefinition-aqr.html" title="The Argonaut Adaptive QR profile is derived from the Argonaut QR profile requiring a containedArgonaut Questionnaire Profile to support the adaptive questionnaire use case.">Argonaut Adaptive QR Profile</a></strong></li>
</ul>

<h4 id="usage-1" class="no_toc">Usage</h4>

<p>To initiate an  adaptive questionnaire:</p>

<p><code class="highlighter-rouge">POST [base]/Questionnaire/[id]/$next-q</code></p>

<p>
  <button data-target="#example-aq-next1" data-toggle="collapse" aria-controls="collapseExample" aria-expanded="false" type="button" title="Click to Open or Close Example" class="btn btn-info btn-lg btn-block">
    Example: $next-q Operation Returns Next Question
  </button>
</p>

<div id="example-aq-next1" class="collapse">
  <div class="card card-body">
      <p><strong>request</strong></p>

<p><code class="highlighter-rouge">POST [base]/Questionnaire/questionnaire-example-adaptive-sampler/$next-q</code></p>

<p><strong>payload</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QuestionnaireResponse"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaireresponse-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/aqr"</span><span class="w">
        </span><span class="p">],</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
      </span><span class="nt">"contained"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Questionnaire"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/q"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="err">//the</span><span class="w"> </span><span class="err">'url'</span><span class="w"> </span><span class="err">element</span><span class="w"> </span><span class="err">identifies</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">questions</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">particular</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Argonaut Questionnaire Sampler"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
          </span><span class="err">...</span><span class="w">
          </span><span class="err">//first</span><span class="w"> </span><span class="err">item</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">display</span><span class="w"> </span><span class="err">only</span><span class="w">
          </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1"</span><span class="p">,</span><span class="w">
            </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w">  </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">could</span><span class="w"> </span><span class="err">also</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">GUID.</span><span class="w">
            </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1"</span><span class="w">
            </span><span class="s2">"text"</span><span class="err">:</span><span class="w"> </span><span class="s2">"Header Text"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1.d"</span><span class="p">,</span><span class="w">
                </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w">  </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w">
                </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1.d"</span><span class="w">
                </span><span class="s2">"text"</span><span class="err">:</span><span class="w"> </span><span class="s2">"The Argonaut Questionnaire Sampler is designed to show all the question types that can be used in the Argonaut Questionnaire Project:\n\n1 boolean\n2 decimal\n3 integer\n4 dateDate\n5 dateTime\n6 timeTime\n7 string\n8 textText\n9 urlUrl\n10 choice\n11 open-choice\n12 quantity\n"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"display"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">//references</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
      </span><span class="nt">"questionnaire"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#questionnaire-example-adaptive-sampler"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in-progress"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="err">//first</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">display</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">so</span><span class="w"> </span><span class="err">no</span><span class="w"> </span><span class="err">scoring</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">processing</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w">
    </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1.d"</span><span class="w">
        </span><span class="p">}</span><span class="w">
       </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="err">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>response</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QuestionnaireResponse"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaireresponse-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/aqr"</span><span class="w">
    </span><span class="p">],</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
  </span><span class="nt">"contained"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Questionnaire"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/q"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">//the</span><span class="w"> </span><span class="err">'url'</span><span class="w"> </span><span class="err">element</span><span class="w"> </span><span class="err">identifies</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">questions</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">particular</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Argonaut Questionnaire Sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="err">//first</span><span class="w"> </span><span class="err">item</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">display</span><span class="w"> </span><span class="err">only</span><span class="w">
      </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1"</span><span class="p">,</span><span class="w">
        </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w">  </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">could</span><span class="w"> </span><span class="err">also</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">GUID.</span><span class="w">
        </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1"</span><span class="w">
        </span><span class="s2">"text"</span><span class="err">:</span><span class="w"> </span><span class="s2">"Header Text"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1.d"</span><span class="p">,</span><span class="w">
            </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w">  </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w">
            </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1.d"</span><span class="w">
            </span><span class="s2">"text"</span><span class="err">:</span><span class="w"> </span><span class="s2">"The Argonaut Questionnaire Sampler is designed to show all the question types that can be used in the Argonaut Questionnaire Project:\n\n1 boolean\n2 decimal\n3 integer\n4 dateDate\n5 dateTime\n6 timeTime\n7 string\n8 textText\n9 urlUrl\n10 choice\n11 open-choice\n12 quantity\n"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"display"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">//add</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">item</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g2"</span><span class="w">
        </span><span class="s2">"type"</span><span class="err">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/extension-score"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"valueDecimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2.q1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g2.q1"</span><span class="w">
            </span><span class="s2">"text"</span><span class="err">:</span><span class="w"> </span><span class="s2">"Check the box if the following statement is true.  The average air speed velocity of a laden European swallow is greater than a laden African swallow."</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"repeats"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">

     </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//references</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
  </span><span class="nt">"questionnaire"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#questionnaire-example-adaptive-sampler"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in-progress"</span><span class="p">,</span><span class="w">
</span><span class="err">...</span><span class="w">
</span><span class="err">//first</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">display</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">so</span><span class="w"> </span><span class="err">no</span><span class="w"> </span><span class="err">scoring</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">processing</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w">
</span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1.d"</span><span class="w">
    </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

  </div>
</div>
<p><br/></p>

<p>
  <button data-target="#example-aq-next2" data-toggle="collapse" aria-controls="collapseExample" aria-expanded="false" type="button" title="Click to Open or Close Example" class="btn btn-info btn-lg btn-block">
    Example: $next-q Operation Returns Next Question and scoring
  </button>
</p>

<div id="example-aq-next2" class="collapse">
  <div class="card card-body">
      <p><strong>request</strong></p>

<p><code class="highlighter-rouge">POST [base]/Questionnaire/questionnaire-example-adaptive-sampler/$next-q</code></p>

<p><strong>payload</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QuestionnaireResponse"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaireresponse-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/aqr"</span><span class="w">
        </span><span class="p">],</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
      </span><span class="nt">"contained"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Questionnaire"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/q"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="err">//the</span><span class="w"> </span><span class="err">'url'</span><span class="w"> </span><span class="err">element</span><span class="w"> </span><span class="err">identifies</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">questions</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">particular</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Argonaut Questionnaire Sampler"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
          </span><span class="err">...</span><span class="w">
          </span><span class="err">//first</span><span class="w"> </span><span class="err">item</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">display</span><span class="w"> </span><span class="err">only</span><span class="w">
          </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1"</span><span class="p">,</span><span class="w">
            </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w">  </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">could</span><span class="w"> </span><span class="err">also</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">GUID.</span><span class="w">
            </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Header Text"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1.d"</span><span class="p">,</span><span class="w">
                </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w">  </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w">
                </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1.d"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Argonaut Questionnaire Sampler is designed to show all the question types that can be used in the Argonaut Questionnaire Project:\n\n1 boolean\n2 decimal\n3 integer\n4 dateDate\n5 dateTime\n6 timeTime\n7 string\n8 textText\n9 urlUrl\n10 choice\n11 open-choice\n12 quantity\n"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"display"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="err">//second</span><span class="w"> </span><span class="err">item</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">question</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/extension-score"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"valueDecimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="w">
                  </span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2.q1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g2.q1"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Check the box if the following statement is true.  The average air speed velocity of a laden European swallow is greater than a laden African swallow."</span><span class="p">,</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"repeats"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">//references</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
      </span><span class="nt">"questionnaire"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#questionnaire-example-adaptive-sampler"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in-progress"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="err">//first</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">display</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">so</span><span class="w"> </span><span class="err">no</span><span class="w"> </span><span class="err">scoring</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">processing</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w">
    </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1.d"</span><span class="w">
        </span><span class="p">}</span><span class="w">
       </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">//second</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">question-answer</span><span class="w"> </span><span class="err">pair</span><span class="w"> </span><span class="err">added</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">client</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">processed</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">determine</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2.q1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"valueBoolean"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">

     </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre>
</div>

<p><strong>response</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QuestionnaireResponse"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaireresponse-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/aqr"</span><span class="w">
    </span><span class="p">],</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
  </span><span class="nt">"contained"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Questionnaire"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/q"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">//the</span><span class="w"> </span><span class="err">'url'</span><span class="w"> </span><span class="err">element</span><span class="w"> </span><span class="err">identifies</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">questions</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">particular</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Argonaut Questionnaire Sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
      </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1"</span><span class="p">,</span><span class="w">
        </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w">  </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">could</span><span class="w"> </span><span class="err">also</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">GUID.</span><span class="w">
        </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Header Text"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1.d"</span><span class="p">,</span><span class="w">
            </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w">  </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w">
            </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1.d"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Argonaut Questionnaire Sampler is designed to show all the question types that can be used in the Argonaut Questionnaire Project:\n\n1 boolean\n2 decimal\n3 integer\n4 dateDate\n5 dateTime\n6 timeTime\n7 string\n8 textText\n9 urlUrl\n10 choice\n11 open-choice\n12 quantity\n"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"display"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/extension-score"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"valueDecimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2.q1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g2.q1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Check the box if the following statement is true.  The average air speed velocity of a laden European swallow is greater than a laden African swallow."</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"repeats"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">add</span><span class="w"> </span><span class="err">third</span><span class="w"> </span><span class="err">item</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/extension-score"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"valueDecimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g3.q1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g3"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"What is the average air speed velocity of a laden swallow in m/sec?"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"decimal"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"repeats"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//references</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
  </span><span class="nt">"questionnaire"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#questionnaire-example-adaptive-sampler"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in-progress"</span><span class="p">,</span><span class="w">
</span><span class="err">...</span><span class="w">
</span><span class="err">//first</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">display</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">so</span><span class="w"> </span><span class="err">no</span><span class="w"> </span><span class="err">scoring</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">processing</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w">
</span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1.d"</span><span class="w">
    </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//second</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">question-answer</span><span class="w"> </span><span class="err">pair</span><span class="w"> </span><span class="err">so</span><span class="w"> </span><span class="err">processed</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">determine</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2.q1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"valueBoolean"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

  </div>
</div>
<p><br/></p>

  <!-- ------- done ---------- -->

<h3 id="adaptive-questionnaire-is-complete">Adaptive Questionnaire is Complete</h3>

  <!-- all this Bootstrap html for getting an image to fit nicely in text - 640 pix wide -->

  <!-- file:///assets/images/aw-step3.jpg -->

<div>
<figure class="figure">
<figcaption class="figure-caption"><strong>.</strong></figcaption>
  <img src="assets/images/aw-step3.jpg" alt="aw-step3.jpg" class="figure-img-narrow img-responsive img-rounded center-block"/>
</figure>

<p></p>
</div>

<p>The Client renders, stores the  question-answer pair and optionally the previous scores and gets the next item group as described above.  When the adaptive questionnaire is  successfully completed, the Service updates the QR with intermediate and cumulative scores, updates status to ‘complete’ and returns it to the Client.  The status of ‘complete’ is a signal to the Client that the adaptive Questionnaire is done!</p>

<h4 id="apis-2" class="no_toc">APIs</h4>

<p>The following Argonaut Questionnaire artifacts are used in this transaction:</p>

<ul>
  <li><strong><a href="OperationDefinition-next-q.html" title="The Argonaut Next Question Operation is used for adaptive questionnaires forms where the next question is based on previous answers.">Argonaut Next Question Operation</a></strong></li>
  <li><strong><a href="StructureDefinition-aqr.html" title="The Argonaut Adaptive QR profile is derived from the Argonaut QR profile requiring a containedArgonaut Questionnaire Profile to support the adaptive questionnaire use case.">Argonaut Adaptive QR Profile</a></strong></li>
</ul>

<h4 id="usage-2" class="no_toc">Usage</h4>

<p>To initiate an  adaptive questionnaire:</p>

<p><code class="highlighter-rouge">POST [base]/Questionnaire/[id]/$next-q</code></p>

<p>
  <button data-target="#example-aq-done" data-toggle="collapse" aria-controls="collapseExample" aria-expanded="false" type="button" title="Click to Open or Close Example" class="btn btn-info btn-lg btn-block">
    Example: $next-q Operation Returns Completed Adaptive Questionnaire
  </button>
</p>

<div id="example-aq-done" class="collapse">
  <div class="card card-body">
      <p><strong>request</strong></p>

<p><code class="highlighter-rouge">POST [base]/Questionnaire/questionnaire-example-adaptive-sampler/$next-q</code></p>

<p><strong>payload</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QuestionnaireResponse"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaireresponse-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/aqr"</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
    </span><span class="nt">"contained"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Questionnaire"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/q"</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">//the</span><span class="w"> </span><span class="err">'url'</span><span class="w"> </span><span class="err">element</span><span class="w"> </span><span class="err">identifies</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">questions</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">particular</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Argonaut Questionnaire Sampler"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
        </span><span class="err">...</span><span class="w">
        </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1"</span><span class="p">,</span><span class="w">
          </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w">  </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">could</span><span class="w"> </span><span class="err">also</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">GUID.</span><span class="w">
          </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Header Text"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1.d"</span><span class="p">,</span><span class="w">
              </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w">  </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w">
              </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1.d"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Argonaut Questionnaire Sampler is designed to show all the question types that can be used in the Argonaut Questionnaire Project:\n\n1 boolean\n2 decimal\n3 integer\n4 dateDate\n5 dateTime\n6 timeTime\n7 string\n8 textText\n9 urlUrl\n10 choice\n11 open-choice\n12 quantity\n"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"display"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/extension-score"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"valueDecimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2.q1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g2.q1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Check the box if the following statement is true.  The average air speed velocity of a laden European swallow is greater than a laden African swallow."</span><span class="p">,</span><span class="w">
              </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"repeats"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">//</span><span class="w"> </span><span class="err">third</span><span class="w"> </span><span class="err">item</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">current</span><span class="w"> </span><span class="err">question</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g3"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g3"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/extension-score"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"valueDecimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g3.q1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g3"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"What is the average air speed velocity of a laden swallow in m/sec?"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"decimal"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"repeats"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
       </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">//references</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
    </span><span class="nt">"questionnaire"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#questionnaire-example-adaptive-sampler"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in-progress"</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="err">//first</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">display</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">so</span><span class="w"> </span><span class="err">no</span><span class="w"> </span><span class="err">scoring</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">processing</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w">
  </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1.d"</span><span class="w">
      </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2.q1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"valueBoolean"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">}</span><span class="p">,</span><span class="w">
    </span><span class="err">//third</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">question-answer</span><span class="w"> </span><span class="err">pair</span><span class="w"> </span><span class="err">updated</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">client</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">processed</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">determine</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g3"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g3.q1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"valueDecimal"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.38</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">

</span></code></pre>
</div>

<p><strong>response</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QuestionnaireResponse"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaireresponse-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/aqr"</span><span class="w">
    </span><span class="p">],</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
  </span><span class="nt">"contained"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Questionnaire"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/q"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">//the</span><span class="w"> </span><span class="err">'url'</span><span class="w"> </span><span class="err">element</span><span class="w"> </span><span class="err">identifies</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">questions</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">particular</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Argonaut Questionnaire Sampler"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
      </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1"</span><span class="p">,</span><span class="w">
        </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w">  </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">could</span><span class="w"> </span><span class="err">also</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">GUID.</span><span class="w">
        </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Header Text"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1.d"</span><span class="p">,</span><span class="w">
            </span><span class="err">//</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Server</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">identify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">questionnaire</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">processing</span><span class="w">  </span><span class="err">(figure</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">what</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">question</span><span class="w"> </span><span class="err">and/or</span><span class="w"> </span><span class="err">calculating</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score)</span><span class="w">
            </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g1.d"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Argonaut Questionnaire Sampler is designed to show all the question types that can be used in the Argonaut Questionnaire Project:\n\n1 boolean\n2 decimal\n3 integer\n4 dateDate\n5 dateTime\n6 timeTime\n7 string\n8 textText\n9 urlUrl\n10 choice\n11 open-choice\n12 quantity\n"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"display"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/extension-score"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"valueDecimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2.q1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g2.q1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Check the box if the following statement is true.  The average air speed velocity of a laden European swallow is greater than a laden African swallow."</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"repeats"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">third</span><span class="w"> </span><span class="err">item</span><span class="w"> </span><span class="err">group</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">current</span><span class="w"> </span><span class="err">question</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/extension-score"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"valueDecimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g3.q1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"definition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/Questionnaire/questionnaire-example-adaptive-sampler#g3"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"What is the average air speed velocity of a laden swallow in m/sec?"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"decimal"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"repeats"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">add</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">final</span><span class="w"> </span><span class="err">calculated</span><span class="w"> </span><span class="err">score</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">final</span><span class="w"> </span><span class="err">item</span><span class="w"> </span><span class="err">group.</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">score</span><span class="w"> </span><span class="err">based</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">question-answer</span><span class="w"> </span><span class="err">pairs</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">readOnly</span><span class="p">,</span><span class="w"> </span><span class="err">initialQuantity</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g4"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://fhir.org/guides/argonaut-questionnaire/StructureDefinition/extension-hidden"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"valueBoolean"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g3.q1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The total score is:"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">,</span><span class="w">
            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"repeats"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"readOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"initialQuantity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
              </span><span class="nt">"unit"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"points"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"system"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://unitsofmeasure.org"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"\{score\}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//references</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">contained</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w">
  </span><span class="nt">"questionnaire"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#questionnaire-example-adaptive-sampler"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">status</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">‘complete’</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">signal</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Client</span><span class="w"> </span><span class="err">that</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">adaptive</span><span class="w"> </span><span class="err">Questionnaire</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">done!</span><span class="w">  
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
</span><span class="err">...</span><span class="w">
</span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g1.d"</span><span class="w">
    </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g2.q1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"valueBoolean"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">}</span><span class="p">,</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g3"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"linkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g3.q1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"valueDecimal"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.38</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

  </div>
</div>
<p><br/></p>

<h3 id="questionnaireresponse-and-scoring">QuestionnaireResponse and Scoring</h3>

<p>When the adaptive questionnaire is complete, the client processes the QuestionnaireResponse with a contained Questionnaire based on the questions it was returned by the service.  The client may represent the cumulative or intermediate scores as answers within the QuestionnaireResponse or as separate Observations.</p>

<p><br/></p>

<hr/>



    <!-- ==============END CONTENT END CONTENT=================== -->

</div>    <!-- col -->
</div>    <!-- /inner-wrapper -->
</div>    <!-- /row -->
</div>    <!-- /container -->
</div>    <!-- /page content -->
</div>    <!-- /page content wrapper -->





        <!-- /inner-wrapper -->
                <!-- /row -->
            <!-- /container -->

        <!-- /segment-content -->

  <!-- back to top arrow -->

<a data-toggle="tooltip" role="button" data-placement="left" id="back-to-top" href="#" title="Click to return on the top page" class="btn btn-info btn-lg back-to-top"><span class="glyphicon glyphicon-chevron-up"></span></a>


  <!-- end back to top arrow -->

<div id="segment-footer" class="segment">    <!-- segment-footer -->
  <div class="container">    <!-- container -->
   <div class="inner-wrapper">
    <p>
            Argonaut Questionnaire Version: 0.0.0  &reg;&copy; <a style="color: #81BEF7" href="http://hl7.org/fhir/STU3/index.html">FHIR Version: 3.0.1</a> (IG Publisher v3.0.1-11917) generated on Thu, Sep 6, 2018 21:52-0700. | <a rel="license" no-external="true" style="color: #81BEF7" href="http://hl7.org/fhir/STU3/license.html"><img src="cc0.png" alt="CC0" style="border-style: none;"/></a>
        
        </p>
   </div>    <!-- /inner-wrapper -->
  </div>    <!-- /container -->
 </div>    <!-- /segment-footer -->
    <!-- disqus thread -->
    <!-- disqus -->
    <!-- end disqus -->

 <div id="segment-post-footer" class="segment hidden">    <!-- segment-post-footer -->
  <div class="container">    <!-- container -->
  </div>    <!-- /container -->
 </div>    <!-- /segment-post-footer -->

   <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
<script src="./assets/js/jquery.js"> </script>       <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
<script src="./assets/js/bootstrap.min.js"> </script>
<script src="./assets/js/respond.min.js"> </script>
<script src="./assets/js/anchor.min.js"> </script>
<script src="./assets/js/fhir.js"> </script>


<script src="./assets/js/topofpage.js"> </script>





  <!-- Analytics Below
================================================== -->

  <!-- add anchors before the closing body tag. -->
<script> anchors.add()</script>



</body>


</head></html>